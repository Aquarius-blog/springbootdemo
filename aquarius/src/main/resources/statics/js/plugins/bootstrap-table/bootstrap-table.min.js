(function(A){var B={};A.addTableFilter=function(D,C){if(isNotEmpty(D)&&isFunction(C)){B[D]=C}};A.getTableFilter=function(C){if(isNotEmpty(C)){return B[C]}};A.removeTableFilter=function(C){delete B[C]}})(window);(function(N){var M=null;var K=function(S){var U=arguments,T=true,R=1;S=S.replace(/%s/g,function(){var V=U[R++];if(typeof V==="undefined"){T=false;return""}return V});return T?S:""};var L=function(U,S,T,V){var R="";N.each(U,function(W,X){if(X[S]===V){R=X[T];return false}return true});return R};var B=function(T,S){var R=-1;N.each(T,function(U,V){if(V.field===S){R=U;return false}return true});return R};var I=function(U){var Z,V,W,X=0,a=[];for(Z=0;Z<U[0].length;Z++){X+=U[0][Z].colspan||1}for(Z=0;Z<U.length;Z++){a[Z]=[];for(V=0;V<X;V++){a[Z][V]=false}}for(Z=0;Z<U.length;Z++){for(V=0;V<U[Z].length;V++){var R=U[Z][V],T=R.rowspan||1,Y=R.colspan||1,S=N.inArray(false,a[Z]);if(Y===1){R.fieldIndex=S;if(typeof R.field==="undefined"){R.field=S}}for(W=0;W<T;W++){a[Z+W][S]=true}for(W=0;W<Y;W++){a[Z][S+W]=true}}}};var H=function(){if(M===null){var U=N("<p/>").addClass("fixed-table-scroll-inner"),S=N("<div/>").addClass("fixed-table-scroll-outer"),T,R;S.append(U);N("body").append(S);T=U[0].offsetWidth;S.css("overflow","scroll");R=U[0].offsetWidth;if(T===R){R=S[0].clientWidth}S.remove();M=T-R}return M};var O=function(R,T,W,U){var S=T;if(typeof T==="string"){var V=T.split(".");if(V.length>1){S=window;N.each(V,function(X,Y){S=S[Y]})}else{S=window[T]}}if(typeof S==="object"){return S}if(typeof S==="function"){return S.apply(R,W)}if(!S&&typeof T==="string"&&K.apply(this,[T].concat(W))){return K.apply(this,[T].concat(W))}return U};var Q=function(U,V,W){var X=Object.getOwnPropertyNames(U),T=Object.getOwnPropertyNames(V),R="";if(W){if(X.length!==T.length){return false}}for(var S=0;S<X.length;S++){R=X[S];if(N.inArray(R,T)>-1){if(U[R]!==V[R]){return false}}}return true};var P=function(R){if(typeof R==="string"){return R.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;")}return R};var D=function(S){var R=0;S.children().each(function(){if(R<N(this).outerHeight(true)){R=N(this).outerHeight(true)}});return R};var G=function(S){for(var T in S){var R=T.split(/(?=[A-Z])/).join("-").toLowerCase();if(R!==T){S[R]=S[T];delete S[T]}}return S};var A=function(U,W,T){var R=U;if(typeof W!=="string"||U.hasOwnProperty(W)){return T?P(U[W]):U[W]}var V=W.split(".");for(var S in V){R=R&&R[V[S]]}return T?P(R):R};var C=function(){return !!(navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))};var F=function(){if(!Object.keys){Object.keys=(function(){var T=Object.prototype.hasOwnProperty,S=!({toString:null}).propertyIsEnumerable("toString"),R=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],U=R.length;return function(W){if(typeof W!=="object"&&(typeof W!=="function"||W===null)){throw new TypeError("Object.keys called on non-object")}var X=[],Y,V;for(Y in W){if(T.call(W,Y)){X.push(Y)}}if(S){for(V=0;V<U;V++){if(T.call(W,R[V])){X.push(R[V])}}}return X}}())}};var J=function(R,S){this.options=S;this.$el=N(R);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};J.DEFAULTS={classes:"table table-hover",locale:undefined,height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",sortStable:false,striped:false,columns:[[]],data:[],dataField:"rows",method:"get",url:undefined,ajax:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(R){return R},queryParamsType:"limit",responseHandler:function(R){return R},pagination:false,onlyInfoPagination:false,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:false,searchOnEnterKey:false,strictSearch:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,buttonsAlign:"right",smartDisplay:true,escape:false,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:false,detailView:false,detailFormatter:function(S,R){return""},trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,silentSort:true,maintainSelected:false,searchTimeOut:500,searchText:"",iconSize:undefined,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"fa fa-gear",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:N.noop,customSort:N.noop,rowStyle:function(R,S){return{}},rowAttributes:function(R,S){return{}},footerStyle:function(R,S){return{}},onAll:function(R,S){return false},onClickCell:function(T,R,S,U){return false},onDblClickCell:function(T,R,S,U){return false},onClickRow:function(R,S){return false},onDblClickRow:function(R,S){return false},onSort:function(R,S){return false},onCheck:function(R){return false},onUncheck:function(R){return false},onCheckAll:function(R){return false},onUncheckAll:function(R){return false},onCheckSome:function(R){return false},onUncheckSome:function(R){return false},onLoadSuccess:function(R){return false},onLoadError:function(R){return false},onColumnSwitch:function(S,R){return false},onPageChange:function(S,R){return false},onSearch:function(R){return false},onToggle:function(R){return false},onPreBody:function(R){return false},onPostBody:function(){return false},onPostHeader:function(){return false},onExpandRow:function(S,R,T){return false},onCollapseRow:function(S,R){return false},onRefreshOptions:function(R){return false},onRefresh:function(R){return false},onResetView:function(){return false}};J.LOCALES={};J.LOCALES["en-US"]=J.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(R){return K("%s rows per page",R)},formatShowingRows:function(R,S,T){return K("Showing %s to %s of %s rows",R,S,T)},formatDetailPagination:function(R){return K("Showing %s rows",R)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};N.extend(J.DEFAULTS,J.LOCALES["en-US"]);J.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,titleTooltip:undefined,"class":undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,sortName:undefined,cellStyle:undefined,searchable:true,searchFormatter:true,cardVisible:true};J.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"};J.prototype.init=function(){this.initLocale();this.initContainer();this.initTable();this.initHeader();this.initData();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initSearchText();this.initServer()};J.prototype.initLocale=function(){if(this.options.locale){var R=this.options.locale.split(/-|_/);R[0].toLowerCase();if(R[1]){R[1].toUpperCase()}if(N.fn.bootstrapTable.locales[this.options.locale]){N.extend(this.options,N.fn.bootstrapTable.locales[this.options.locale])}else{if(N.fn.bootstrapTable.locales[R.join("-")]){N.extend(this.options,N.fn.bootstrapTable.locales[R.join("-")])}else{if(N.fn.bootstrapTable.locales[R[0]]){N.extend(this.options,N.fn.bootstrapTable.locales[R[0]])}}}}};J.prototype.initContainer=function(){this.$container=N(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$tableContainer=this.$container.find(".fixed-table-container");this.$tableHeader=this.$container.find(".fixed-table-header");this.$tableBody=this.$container.find(".fixed-table-body");this.$tableLoading=this.$container.find(".fixed-table-loading");this.$tableFooter=this.$container.find(".fixed-table-footer");this.$toolbar=this.$container.find(".fixed-table-toolbar");this.$pagination=this.$container.find(".fixed-table-pagination");this.$tableBody.append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}if(N.inArray("table-no-bordered",this.options.classes.split(" "))!==-1){this.$tableContainer.addClass("table-no-bordered")}};J.prototype.initTable=function(){var R=this,U=[],T=[];this.$header=this.$el.find(">thead");if(!this.$header.length){this.$header=N("<thead></thead>").appendTo(this.$el)}this.$header.find("tr").each(function(){var V=[];N(this).find("th").each(function(){if(typeof N(this).data("field")!=="undefined"){N(this).data("field",N(this).data("field")+"")}V.push(N.extend({},{title:N(this).html(),"class":N(this).attr("class"),titleTooltip:N(this).attr("title"),rowspan:N(this).attr("rowspan")?+N(this).attr("rowspan"):undefined,colspan:N(this).attr("colspan")?+N(this).attr("colspan"):undefined},N(this).data()))});U.push(V)});if(!N.isArray(this.options.columns[0])){this.options.columns=[this.options.columns]}this.options.columns=N.extend(true,[],U,this.options.columns);this.columns=[];I(this.options.columns);N.each(this.options.columns,function(V,W){N.each(W,function(Y,X){X=N.extend({},J.COLUMN_DEFAULTS,X);if(typeof X.fieldIndex!=="undefined"){R.columns[X.fieldIndex]=X}R.options.columns[V][Y]=X})});if(this.options.data.length){return}var S=[];this.$el.find(">tbody>tr").each(function(W){var V={};V._id=N(this).attr("id");V._class=N(this).attr("class");V._data=G(N(this).data());N(this).find(">td").each(function(a){var Z=N(this),X=+Z.attr("colspan")||1,c=+Z.attr("rowspan")||1,d,Y;for(;S[W]&&S[W][a];a++){}for(d=a;d<a+X;d++){for(Y=W;Y<W+c;Y++){if(!S[Y]){S[Y]=[]}S[Y][d]=true}}var b=R.columns[a].field;V[b]=N(this).html();V["_"+b+"_id"]=N(this).attr("id");V["_"+b+"_class"]=N(this).attr("class");V["_"+b+"_rowspan"]=N(this).attr("rowspan");V["_"+b+"_colspan"]=N(this).attr("colspan");V["_"+b+"_title"]=N(this).attr("title");V["_"+b+"_data"]=G(N(this).data())});T.push(V)});this.options.data=T;if(T.length){this.fromHtml=true}};J.prototype.initHeader=function(){var S=this,T={},R=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]};N.each(this.options.columns,function(U,V){R.push("<tr>");if(U===0&&!S.options.cardView&&S.options.detailView){R.push(K('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',S.options.columns.length))}N.each(V,function(Y,X){var b="",e="",Z="",a="",W=K(' class="%s"',X["class"]),d=S.options.sortOrder||X.order,f="px",c=X.width;if(X.width!==undefined&&(!S.options.cardView)){if(typeof X.width==="string"){if(X.width.indexOf("%")!==-1){f="%"}}}if(X.width&&typeof X.width==="string"){c=X.width.replace("%","").replace("px","")}e=K("text-align: %s; ",X.halign?X.halign:X.align);Z=K("text-align: %s; ",X.align);a=K("vertical-align: %s; ",X.valign);a+=K("width: %s; ",(X.checkbox||X.radio)&&!c?"36px":(c?c+f:undefined));if(typeof X.fieldIndex!=="undefined"){S.header.fields[X.fieldIndex]=X.field;S.header.styles[X.fieldIndex]=Z+a;S.header.classes[X.fieldIndex]=W;S.header.formatters[X.fieldIndex]=X.formatter;S.header.events[X.fieldIndex]=X.events;S.header.sorters[X.fieldIndex]=X.sorter;S.header.sortNames[X.fieldIndex]=X.sortName;S.header.cellStyles[X.fieldIndex]=X.cellStyle;S.header.searchables[X.fieldIndex]=X.searchable;if(!X.visible){return}if(S.options.cardView&&(!X.cardVisible)){return}T[X.field]=X}R.push("<th"+K(' title="%s"',X.titleTooltip),X.checkbox||X.radio?K(' class="bs-checkbox %s"',X["class"]||""):W,K(' style="%s"',e+a),K(' rowspan="%s"',X.rowspan),K(' colspan="%s"',X.colspan),K(' data-field="%s"',X.field),"tabindex='0'",">");R.push(K('<div class="th-inner %s">',S.options.sortable&&X.sortable?"sortable both":""));b=X.title;if(X.checkbox){if(!S.options.singleSelect&&S.options.checkboxHeader){b='<input name="btSelectAll" type="checkbox" />'}S.header.stateField=X.field}if(X.radio){b="";S.header.stateField=X.field;S.options.singleSelect=true}R.push(b);R.push("</div>");R.push('<div class="fht-cell"></div>');R.push("</div>");R.push("</th>")});R.push("</tr>")});this.$header.html(R.join(""));this.$header.find("th[data-field]").each(function(U){N(this).data(T[N(this).data("field")])});this.$container.off("click",".th-inner").on("click",".th-inner",function(U){var V=N(this);if(S.options.detailView){if(V.closest(".bootstrap-table")[0]!==S.$container[0]){return false}}if(S.options.sortable&&V.parent().data().sortable){S.onSort(U)}});this.$header.children().children().off("keypress").on("keypress",function(V){if(S.options.sortable&&N(this).data().sortable){var U=V.keyCode||V.which;if(U==13){S.onSort(V)}}});N(window).off("resize.bootstrap-table");if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$tableHeader.hide();this.$tableLoading.css("top",0)}else{this.$header.show();this.$tableHeader.show();this.$tableLoading.css("top",this.$header.outerHeight()+1);this.getCaret();N(window).on("resize.bootstrap-table",N.proxy(this.resetWidth,this))}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$selectAll.off("click").on("click",function(){var U=N(this).prop("checked");S[U?"checkAll":"uncheckAll"]();S.updateSelected()})};J.prototype.initFooter=function(){if(!this.options.showFooter||this.options.cardView){this.$tableFooter.hide()}else{this.$tableFooter.show()}};J.prototype.initData=function(S,R){if(R==="append"){this.data=this.data.concat(S)}else{if(R==="prepend"){this.data=[].concat(S).concat(this.data)}else{this.data=S||this.options.data}}if(R==="append"){this.options.data=this.options.data.concat(S)}else{if(R==="prepend"){this.options.data=[].concat(S).concat(this.options.data)}else{this.options.data=this.data}}if(this.options.sidePagination==="server"){return}this.initSort()};J.prototype.initSort=function(){var R=this,S=this.options.sortName,T=this.options.sortOrder==="desc"?-1:1,U=N.inArray(this.options.sortName,this.header.fields);if(this.options.customSort!==N.noop){this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]);return}if(U!==-1){if(this.options.sortStable){N.each(this.data,function(V,W){if(!W.hasOwnProperty("_position")){W._position=V}})}this.data.sort(function(Y,W){if(R.header.sortNames[U]){S=R.header.sortNames[U]}var Z=A(Y,S,R.options.escape),V=A(W,S,R.options.escape),X=O(R.header,R.header.sorters[U],[Z,V]);if(X!==undefined){return T*X}if(Z===undefined||Z===null){Z=""}if(V===undefined||V===null){V=""}if(R.options.sortStable&&Z===V){Z=Y._position;V=W._position}if(N.isNumeric(Z)&&N.isNumeric(V)){Z=parseFloat(Z);V=parseFloat(V);if(Z<V){return T*-1}return T}if(Z===V){return 0}if(typeof Z!=="string"){Z=Z.toString()}if(Z.localeCompare(V)===-1){return T*-1}return T})}};J.prototype.onSort=function(T){var R=T.type==="keypress"?N(T.currentTarget):N(T.currentTarget).parent(),S=this.$header.find("th").eq(R.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===R.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=R.data("field");this.options.sortOrder=R.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);R.add(S).data("order",this.options.sortOrder);this.getCaret();if(this.options.sidePagination==="server"){this.initServer(this.options.silentSort);return}this.initSort();this.initBody()};J.prototype.initToolbar=function(){var S=this,R=[],U=0,V,T,W=0;if(this.$toolbar.find(".bs-bars").children().length){N("body").append(N(this.options.toolbar))}this.$toolbar.html("");if(typeof this.options.toolbar==="string"||typeof this.options.toolbar==="object"){N(K('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(N(this.options.toolbar))}R=[K('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=O(null,this.options.icons)}if(this.options.showPaginationSwitch){R.push(K('<button class="btn'+K(" btn-%s",this.options.buttonsClass)+K(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),K('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showRefresh){R.push(K('<button class="btn'+K(" btn-%s",this.options.buttonsClass)+K(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),K('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){R.push(K('<button class="btn'+K(" btn-%s",this.options.buttonsClass)+K(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),K('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){R.push(K('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn'+K(" btn-%s",this.options.buttonsClass)+K(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',K('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class=""></span>',"</button>",'<ul class="dropdown-menu" role="menu">');N.each(this.columns,function(X,Z){if(Z.radio||Z.checkbox){return}if(S.options.cardView&&!Z.cardVisible){return}var Y=Z.visible?' checked="checked"':"";if(Z.switchable){R.push(K('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',Z.field,X,Y,Z.title));W++}});R.push("</ul>","</div>")}R.push("</div>");if(this.showToolbar||R.length>2){this.$toolbar.append(R.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",N.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",N.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){S.toggleView()})}if(this.options.showColumns){V=this.$toolbar.find(".keep-open");if(W<=this.options.minimumCountColumns){V.find("input").prop("disabled",true)}V.find("li").off("click").on("click",function(X){X.stopImmediatePropagation()});V.find("input").off("click").on("click",function(){var X=N(this);S.toggleColumn(N(this).val(),X.prop("checked"),false);S.trigger("column-switch",N(this).data("field"),X.prop("checked"))})}if(this.options.search){R=[];R.push('<div class="pull-'+this.options.searchAlign+' search">',K('<input class="form-control'+K(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(R.join(""));T=this.$toolbar.find(".search input");T.off("keyup drop").on("keyup drop",function(X){if(S.options.searchOnEnterKey&&X.keyCode!==13){return}if(N.inArray(X.keyCode,[37,38,39,40])>-1){return}clearTimeout(U);U=setTimeout(function(){S.onSearch(X)},S.options.searchTimeOut)});if(C()){T.off("mouseup").on("mouseup",function(X){clearTimeout(U);U=setTimeout(function(){S.onSearch(X)},S.options.searchTimeOut)})}}};J.prototype.onSearch=function(S){var R=N.trim(N(S.currentTarget).val());if(this.options.trimOnSearch&&N(S.currentTarget).val()!==R){N(S.currentTarget).val(R)}if(R===this.searchText){return}this.searchText=R;this.options.searchText=R;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",R)};J.prototype.initSearch=function(){var S=this;if(this.options.sidePagination!=="server"){if(this.options.customSearch!==N.noop){this.options.customSearch.apply(this,[this.searchText]);return}var R=this.searchText&&(this.options.escape?P(this.searchText):this.searchText).toLowerCase();var T=N.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=T?N.grep(this.options.data,function(W,V){for(var U in T){if(N.isArray(T[U])&&N.inArray(W[U],T[U])===-1||W[U]!==T[U]){return false}}return true}):this.options.data;this.data=R?N.grep(this.data,function(b,Z){for(var W=0;W<S.header.fields.length;W++){if(!S.header.searchables[W]){continue}var a=N.isNumeric(S.header.fields[W])?parseInt(S.header.fields[W],10):S.header.fields[W];var U=S.columns[B(S.columns,a)];var Y;if(typeof a==="string"){Y=b;var X=a.split(".");for(var V=0;V<X.length;V++){Y=Y[X[V]]}if(U&&U.searchFormatter){Y=O(U,S.header.formatters[W],[Y,b,Z],Y)}}else{Y=b[a]}if(typeof Y==="string"||typeof Y==="number"){if(S.options.strictSearch){if((Y+"").toLowerCase()===R){return true}}else{if((Y+"").toLowerCase().indexOf(R)!==-1){return true}}}}return false}):this.data}};J.prototype.initPagination=function(){if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var g=this,Z=[],e=false,Y,a,T,f,S,d,b,V,h,U=this.getData(),W=this.options.pageList;if(this.options.sidePagination!=="server"){this.options.totalRows=U.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;e=true}else{if(this.options.pageSize===this.options.totalRows){var c=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;if(N.inArray(this.options.formatAllRows().toLowerCase(),c)>-1){e=true}}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}Z.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");if(!this.options.onlyInfoPagination){Z.push('<span class="page-list">');var X=[K('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn'+K(" btn-%s",this.options.buttonsClass)+K(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',e?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if(typeof this.options.pageList==="string"){var R=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");W=[];N.each(R,function(j,k){W.push(k.toUpperCase()===g.options.formatAllRows().toUpperCase()?g.options.formatAllRows():+k)})}N.each(W,function(j,l){if(!g.options.smartDisplay||j===0||W[j-1]<=g.options.totalRows){var k;if(e){k=l===g.options.formatAllRows()?' class="active"':""}else{k=l===g.options.pageSize?' class="active"':""}X.push(K('<li%s><a href="javascript:void(0)">%s</a></li>',k,l))}});X.push("</ul></span>");Z.push(this.options.formatRecordsPerPage(X.join("")));Z.push("</span>");Z.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+K(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>");if(this.totalPages<5){a=1;T=this.totalPages}else{a=this.options.pageNumber-2;T=a+4;if(a<1){a=1;T=5}if(T>this.totalPages){T=this.totalPages;a=T-4}}if(this.totalPages>=6){if(this.options.pageNumber>=3){Z.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',1,"</a>","</li>");a++}if(this.options.pageNumber>=4){if(this.options.pageNumber==4||this.totalPages==6||this.totalPages==7){a--}else{Z.push('<li class="page-first-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>")}T--}}if(this.totalPages>=7){if(this.options.pageNumber>=(this.totalPages-2)){a--}}if(this.totalPages==6){if(this.options.pageNumber>=(this.totalPages-2)){T++}}else{if(this.totalPages>=7){if(this.totalPages==7||this.options.pageNumber>=(this.totalPages-3)){T++}}}for(Y=a;Y<=T;Y++){Z.push('<li class="page-number'+(Y===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',Y,"</a>","</li>")}if(this.totalPages>=8){if(this.options.pageNumber<=(this.totalPages-4)){Z.push('<li class="page-last-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>")}}if(this.totalPages>=6){if(this.options.pageNumber<=(this.totalPages-3)){Z.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',this.totalPages,"</a>","</li>")}}Z.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(Z.join(""));if(!this.options.onlyInfoPagination){f=this.$pagination.find(".page-list a");S=this.$pagination.find(".page-first");d=this.$pagination.find(".page-pre");b=this.$pagination.find(".page-next");V=this.$pagination.find(".page-last");h=this.$pagination.find(".page-number");if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(W.length<2||this.options.totalRows<=W[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(e){this.options.pageSize=this.options.formatAllRows()}f.off("click").on("click",N.proxy(this.onPageListChange,this));S.off("click").on("click",N.proxy(this.onPageFirst,this));d.off("click").on("click",N.proxy(this.onPagePre,this));b.off("click").on("click",N.proxy(this.onPageNext,this));V.off("click").on("click",N.proxy(this.onPageLast,this));h.off("click").on("click",N.proxy(this.onPageNumber,this))}};J.prototype.updatePagination=function(R){if(R&&N(R.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};J.prototype.onPageListChange=function(S){var R=N(S.currentTarget);R.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=R.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+R.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(S)};J.prototype.onPageFirst=function(R){this.options.pageNumber=1;this.updatePagination(R)};J.prototype.onPagePre=function(R){if((this.options.pageNumber-1)===0){this.options.pageNumber=this.options.totalPages}else{this.options.pageNumber--}this.updatePagination(R)};J.prototype.onPageNext=function(R){if((this.options.pageNumber+1)>this.options.totalPages){this.options.pageNumber=1}else{this.options.pageNumber++}this.updatePagination(R)};J.prototype.onPageLast=function(R){this.options.pageNumber=this.totalPages;this.updatePagination(R)};J.prototype.onPageNumber=function(R){if(this.options.pageNumber===+N(R.currentTarget).text()){return}this.options.pageNumber=+N(R.currentTarget).text();this.updatePagination(R)};J.prototype.initBody=function(a){var W=this,b=[],S=this.getData();this.trigger("pre-body",S);this.$body=this.$el.find(">tbody");if(!this.$body.length){this.$body=N("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=S.length}for(var V=this.pageFrom-1;V<this.pageTo;V++){var Z,c=S[V],U={},X=[],R="",T={},Y=[];U=O(this.options,this.options.rowStyle,[c,V],U);if(U&&U.css){for(Z in U.css){X.push(Z+": "+U.css[Z])}}T=O(this.options,this.options.rowAttributes,[c,V],T);if(T){for(Z in T){Y.push(K('%s="%s"',Z,P(T[Z])))}}if(c._data&&!N.isEmptyObject(c._data)){N.each(c._data,function(e,d){if(e==="index"){return}R+=K(' data-%s="%s"',e,d)})}b.push("<tr",K(" %s",Y.join(" ")),K(' id="%s"',N.isArray(c)?undefined:c._id),K(' class="%s"',U.classes||(N.isArray(c)?undefined:c._class)),K(' data-index="%s"',V),K(' data-uniqueid="%s"',c[this.options.uniqueId]),K("%s",R),">");if(this.options.cardView){b.push(K('<td colspan="%s"><div class="card-views">',this.header.fields.length))}if(!this.options.cardView&&this.options.detailView){b.push("<td>",'<a class="detail-icon" href="javascript:">',K('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>")}N.each(this.header.fields,function(k,o){var f="",l=A(c,o,W.options.escape),r="",s={},q="",e=W.header.classes[k],g="",m="",p="",h="",d=W.columns[k];if(W.fromHtml&&typeof l==="undefined"){return}if(!d.visible){return}if(W.options.cardView&&!d.cardVisible){return}U=K('style="%s"',X.concat(W.header.styles[k]).join("; "));if(c["_"+o+"_id"]){q=K(' id="%s"',c["_"+o+"_id"])}if(c["_"+o+"_class"]){e=K(' class="%s"',c["_"+o+"_class"])}if(c["_"+o+"_rowspan"]){m=K(' rowspan="%s"',c["_"+o+"_rowspan"])}if(c["_"+o+"_colspan"]){p=K(' colspan="%s"',c["_"+o+"_colspan"])}if(c["_"+o+"_title"]){h=K(' title="%s"',c["_"+o+"_title"])}s=O(W.header,W.header.cellStyles[k],[l,c,V,o],s);if(s.classes){e=K(' class="%s"',s.classes)}if(s.css){var i=[];for(var n in s.css){i.push(n+": "+s.css[n])}U=K('style="%s"',i.concat(W.header.styles[k]).join("; "))}l=O(d,W.header.formatters[k],[l,c,V],l);if(c["_"+o+"_data"]&&!N.isEmptyObject(c["_"+o+"_data"])){N.each(c["_"+o+"_data"],function(t,j){if(t==="index"){return}g+=K(' data-%s="%s"',t,j)})}if(d.checkbox||d.radio){r=d.checkbox?"checkbox":r;r=d.radio?"radio":r;f=[K(W.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',d["class"]||""),"<input"+K(' data-index="%s"',V)+K(' name="%s"',W.options.selectItemName)+K(' type="%s"',r)+K(' value="%s"',c[W.options.idField])+K(' checked="%s"',l===true||(l&&l.checked)?"checked":undefined)+K(' disabled="%s"',!d.checkboxEnabled||(l&&l.disabled)?"disabled":undefined)+" />",W.header.formatters[k]&&typeof l==="string"?l:"",W.options.cardView?"</div>":"</td>"].join("");c[W.header.stateField]=l===true||(l&&l.checked)}else{l=typeof l==="undefined"||l===null?W.options.undefinedText:l;f=W.options.cardView?['<div class="card-view">',W.options.showHeader?K('<span class="title" %s>%s</span>',U,L(W.columns,"field","title",o)):"",K('<span class="value">%s</span>',l),"</div>"].join(""):[K("<td%s %s %s %s %s %s %s>",q,e,U,g,m,p,h),l,"</td>"].join("");if(W.options.cardView&&W.options.smartDisplay&&l===""){f='<div class="card-view"></div>'}}b.push(f)});if(this.options.cardView){b.push("</div></td>")}b.push("</tr>")}if(!b.length){b.push('<tr class="no-records-found">',K('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>")}this.$body.html(b.join(""));if(!a){this.scrollTo(0)}this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(d){var f=N(this),k=f.parent(),n=W.data[k.data("index")],g=f[0].cellIndex,m=W.getVisibleFields(),l=m[W.options.detailView&&!W.options.cardView?g-1:g],i=W.columns[B(W.columns,l)],j=A(n,l,W.options.escape);if(f.find(".detail-icon").length){return}W.trigger(d.type==="click"?"click-cell":"dbl-click-cell",l,j,n,f);W.trigger(d.type==="click"?"click-row":"dbl-click-row",n,k,l);if(d.type==="click"&&W.options.clickToSelect&&i.clickToSelect){var h=k.find(K('[name="%s"]',W.options.selectItemName));if(h.length){h[0].click()}}});this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var f=N(this),d=f.parent().parent(),h=d.data("index"),g=S[h];if(d.next().is("tr.detail-view")){f.find("i").attr("class",K("%s %s",W.options.iconsPrefix,W.options.icons.detailOpen));d.next().remove();W.trigger("collapse-row",h,g)}else{f.find("i").attr("class",K("%s %s",W.options.iconsPrefix,W.options.icons.detailClose));d.after(K('<tr class="detail-view"><td colspan="%s"></td></tr>',d.find("td").length));var i=d.next().find("td");var e=O(W.options,W.options.detailFormatter,[h,g,i],"");if(i.length===1){i.append(e)}W.trigger("expand-row",h,g,i)}W.resetView()});this.$selectItem=this.$body.find(K('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(f){f.stopImmediatePropagation();var d=N(this),g=d.prop("checked"),e=W.data[d.data("index")];if(W.options.maintainSelected&&N(this).is(":radio")){N.each(W.options.data,function(h,j){j[W.header.stateField]=false})}e[W.header.stateField]=g;if(W.options.singleSelect){W.$selectItem.not(this).each(function(){W.data[N(this).data("index")][W.header.stateField]=false});W.$selectItem.filter(":checked").not(this).prop("checked",false)}W.updateSelected();W.trigger(g?"check":"uncheck",e,d)});N.each(this.header.events,function(e,g){if(!g){return}if(typeof g==="string"){g=O(null,g)}var h=W.header.fields[e],f=N.inArray(h,W.getVisibleFields());if(W.options.detailView&&!W.options.cardView){f+=1}for(var d in g){W.$body.find(">tr:not(.no-records-found)").each(function(){var j=N(this),l=j.find(W.options.cardView?".card-view":"td").eq(f),n=d.indexOf(" "),m=d.substring(0,n),i=d.substring(n+1),k=g[d];l.find(i).off(m).on(m,function(p){var r=j.data("index"),q=W.data[r],o=q[h];k.apply(this,[p,o,q,r])})})}});this.updateSelected();this.resetView();this.trigger("post-body",S)};J.prototype.initServer=function(X,U,R){var S=this,V={},W={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder},T;if(this.options.pagination){W.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;W.pageNumber=this.options.pageNumber}if(!(R||this.options.url)&&!this.options.ajax){return}if(this.options.queryParamsType==="limit"){W={search:W.searchText,sort:W.sortName,order:W.sortOrder};if(this.options.pagination){W.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1);W.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize}}if(!(N.isEmptyObject(this.filterColumnsPartial))){W.filter=JSON.stringify(this.filterColumnsPartial,null)}V=O(this.options,this.options.queryParams,[W],V);N.extend(V,U||{});if(V===false){return}if(!X){this.$tableLoading.show()}T=N.extend({},O(null,this.options.ajaxOptions),{type:this.options.method,url:R||this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(V):V,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(b){if(b!=null&&b.rows!=null){var c=b.rows,a,Z;for(var Y=0;Y<c.length;Y++){a=Object.getOwnPropertyNames(c[Y]);for(var d=0;d<a.length;d++){Z=getTableFilter(a[d]);if(Z!=null){c[Y][a[d]]=Z(c[Y][a[d]])}}}}b=O(S.options,S.options.responseHandler,[b],b);S.load(b);S.trigger("load-success",b);if(!X){S.$tableLoading.hide()}},error:function(Y){S.trigger("load-error",Y.status,Y);if(!X){S.$tableLoading.hide()}}});if(this.options.ajax){O(this,this.options.ajax,[T],null)}else{if(this._xhr&&this._xhr.readyState!==4){this._xhr.abort()}this._xhr=N.ajax(T)}};J.prototype.initSearchText=function(){if(this.options.search){if(this.options.searchText!==""){var R=this.$toolbar.find(".search input");R.val(this.options.searchText);this.onSearch({currentTarget:R})}}};J.prototype.getCaret=function(){var R=this;N.each(this.$header.find("th"),function(S,T){N(T).find(".sortable").removeClass("desc asc").addClass(N(T).data("field")===R.options.sortName?R.options.sortOrder:"both")})};J.prototype.updateSelected=function(){var R=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",R);this.$selectItem.each(function(){N(this).closest("tr")[N(this).prop("checked")?"addClass":"removeClass"]("selected")})};J.prototype.updateRows=function(){var R=this;this.$selectItem.each(function(){R.data[N(this).data("index")][R.header.stateField]=N(this).prop("checked")})};J.prototype.resetRows=function(){var R=this;N.each(this.data,function(S,T){R.$selectAll.prop("checked",false);R.$selectItem.prop("checked",false);if(R.header.stateField){T[R.header.stateField]=false}})};J.prototype.trigger=function(R){var S=Array.prototype.slice.call(arguments,1);R+=".bs.table";this.options[J.EVENTS[R]].apply(this.options,S);this.$el.trigger(N.Event(R),S);this.options.onAll(R,S);this.$el.trigger(N.Event("all.bs.table"),[R,S])};J.prototype.resetHeader=function(){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(N.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)};J.prototype.fitHeader=function(){var R=this,Z,T,W,V;if(R.$el.is(":hidden")){R.timeoutId_=setTimeout(N.proxy(R.fitHeader,R),100);return}Z=this.$tableBody.get(0);T=Z.scrollWidth>Z.clientWidth&&Z.scrollHeight>Z.clientHeight+this.$header.outerHeight()?H():0;this.$el.css("margin-top",-this.$header.outerHeight());W=N(":focus");if(W.length>0){var a=W.parents("th");if(a.length>0){var Y=a.attr("data-field");if(Y!==undefined){var S=this.$header.find("[data-field='"+Y+"']");if(S.length>0){S.find(":input").addClass("focus-temp")}}}}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');this.$tableHeader.css({"margin-right":T}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);V=N(".focus-temp:visible:eq(0)");if(V.length>0){V.focus();this.$header.find(".focus-temp").removeClass("focus-temp")}this.$header.find("th[data-field]").each(function(b){R.$header_.find(K('th[data-field="%s"]',N(this).data("field"))).data(N(this).data())});var U=this.getVisibleFields(),X=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(c){var d=N(this),e=c;if(R.options.detailView&&!R.options.cardView){if(c===0){R.$header_.find("th.detail").find(".fht-cell").width(d.innerWidth())}e=c-1}var b=R.$header_.find(K('th[data-field="%s"]',U[e]));if(b.length>1){b=N(X[d[0].cellIndex])}b.find(".fht-cell").width(d.innerWidth())});this.$tableBody.off("scroll").on("scroll",function(){R.$tableHeader.scrollLeft(N(this).scrollLeft());if(R.options.showFooter&&!R.options.cardView){R.$tableFooter.scrollLeft(N(this).scrollLeft())}});R.trigger("post-header")};J.prototype.resetFooter=function(){var S=this,T=S.getData(),R=[];if(!this.options.showFooter||this.options.cardView){return}if(!this.options.cardView&&this.options.detailView){R.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>')}N.each(this.columns,function(Y,V){var W,a="",U="",b=[],Z={},X=K(' class="%s"',V["class"]);if(!V.visible){return}if(S.options.cardView&&(!V.cardVisible)){return}a=K("text-align: %s; ",V.falign?V.falign:V.align);U=K("vertical-align: %s; ",V.valign);Z=O(null,S.options.footerStyle);if(Z&&Z.css){for(W in Z.css){b.push(W+": "+Z.css[W])}}R.push("<td",X,K(' style="%s"',a+U+b.concat().join("; ")),">");R.push('<div class="th-inner">');R.push(O(V,V.footerFormatter,[T],"&nbsp;")||"&nbsp;");R.push("</div>");R.push('<div class="fht-cell"></div>');R.push("</div>");R.push("</td>")});this.$tableFooter.find("tr").html(R.join(""));this.$tableFooter.show();clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(N.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};J.prototype.fitFooter=function(){var R=this,T,U,S;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(N.proxy(this.fitFooter,this),100);return}U=this.$el.css("width");S=U>this.$tableBody.width()?H():0;this.$tableFooter.css({"margin-right":S}).find("table").css("width",U).attr("class",this.$el.attr("class"));T=this.$tableFooter.find("td");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(V){var W=N(this);T.eq(V).find(".fht-cell").width(W.innerWidth())})};J.prototype.toggleColumn=function(U,R,T){if(U===-1){return}this.columns[U].visible=R;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var S=this.$toolbar.find(".keep-open input").prop("disabled",false);if(T){S.filter(K('[value="%s"]',U)).prop("checked",R)}if(S.filter(":checked").length<=this.options.minimumCountColumns){S.filter(":checked").prop("disabled",true)}}};J.prototype.toggleRow=function(T,R,S){if(T===-1){return}this.$body.find(typeof T!=="undefined"?K('tr[data-index="%s"]',T):K('tr[data-uniqueid="%s"]',R))[S?"show":"hide"]()};J.prototype.getVisibleFields=function(){var R=this,S=[];N.each(this.header.fields,function(V,U){var T=R.columns[B(R.columns,U)];if(!T.visible){return}S.push(U)});return S};J.prototype.resetView=function(U){var S=0;if(U&&U.height){this.options.height=U.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var T=D(this.$toolbar),V=D(this.$pagination),R=this.options.height-T-V;this.$tableContainer.css("height",R+"px")}if(this.options.cardView){this.$el.css("margin-top","0");this.$tableContainer.css("padding-bottom","0");this.$tableFooter.hide();return}if(this.options.showHeader&&this.options.height){this.$tableHeader.show();this.resetHeader()}else{this.$tableHeader.hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){S+=this.$tableFooter.outerHeight()+1}}this.getCaret();this.$tableContainer.css("padding-bottom",S+"px");this.trigger("reset-view")};J.prototype.getData=function(R){return(this.searchText||!N.isEmptyObject(this.filterColumns)||!N.isEmptyObject(this.filterColumnsPartial))?(R?this.data.slice(this.pageFrom-1,this.pageTo):this.data):(R?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data)};J.prototype.load=function(S){var R=false;if(this.options.sidePagination==="server"){this.options.totalRows=S.total;R=S.fixedScroll;S=S[this.options.dataField]}else{if(!N.isArray(S)){R=S.fixedScroll;S=S.data}}this.initData(S);this.initSearch();this.initPagination();this.initBody(R)};J.prototype.append=function(R){this.initData(R,"append");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};J.prototype.prepend=function(R){this.initData(R,"prepend");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};J.prototype.remove=function(U){var T=this.options.data.length,R,S;if(!U.hasOwnProperty("field")||!U.hasOwnProperty("values")){return}for(R=T-1;R>=0;R--){S=this.options.data[R];if(!S.hasOwnProperty(U.field)){continue}if(N.inArray(S[U.field],U.values)!==-1){this.options.data.splice(R,1)}}if(T===this.options.data.length){return}this.initSearch();this.initPagination();this.initSort();this.initBody(true)};J.prototype.removeAll=function(){if(this.options.data.length>0){this.options.data.splice(0,this.options.data.length);this.initSearch();this.initPagination();this.initBody(true)}};J.prototype.getRowByUniqueId=function(X){var S=this.options.uniqueId,V=this.options.data.length,W=null,T,U,R;for(T=V-1;T>=0;T--){U=this.options.data[T];if(U.hasOwnProperty(S)){R=U[S]}else{if(U._data.hasOwnProperty(S)){R=U._data[S]}else{continue}}if(typeof R==="string"){X=X.toString()}else{if(typeof R==="number"){if((Number(R)===R)&&(R%1===0)){X=parseInt(X)}else{if((R===Number(R))&&(R!==0)){X=parseFloat(X)}}}}if(R===X){W=U;break}}return W};J.prototype.removeByUniqueId=function(T){var S=this.options.data.length,R=this.getRowByUniqueId(T);if(R){this.options.data.splice(this.options.data.indexOf(R),1)}if(S===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};J.prototype.updateByUniqueId=function(S){var R=this;var T=N.isArray(S)?S:[S];N.each(T,function(U,W){var V;if(!W.hasOwnProperty("id")||!W.hasOwnProperty("row")){return}V=N.inArray(R.getRowByUniqueId(W.id),R.options.data);if(V===-1){return}N.extend(R.options.data[V],W.row)});this.initSearch();this.initSort();this.initBody(true)};J.prototype.insertRow=function(R){if(!R.hasOwnProperty("index")||!R.hasOwnProperty("row")){return}this.data.splice(R.index,0,R.row);this.initSearch();this.initPagination();this.initSort();this.initBody(true)};J.prototype.updateRow=function(S){var R=this;var T=N.isArray(S)?S:[S];N.each(T,function(U,V){if(!V.hasOwnProperty("index")||!V.hasOwnProperty("row")){return}N.extend(R.options.data[V.index],V.row)});this.initSearch();this.initSort();this.initBody(true)};J.prototype.showRow=function(R){if(!R.hasOwnProperty("index")&&!R.hasOwnProperty("uniqueId")){return}this.toggleRow(R.index,R.uniqueId,true)};J.prototype.hideRow=function(R){if(!R.hasOwnProperty("index")&&!R.hasOwnProperty("uniqueId")){return}this.toggleRow(R.index,R.uniqueId,false)};J.prototype.getRowsHidden=function(S){var T=N(this.$body[0]).children().filter(":hidden"),R=0;if(S){for(;R<T.length;R++){N(T[R]).show()}}return T};J.prototype.mergeCells=function(U){var W=U.index,Z=N.inArray(U.field,this.getVisibleFields()),Y=U.rowspan||1,X=U.colspan||1,V,T,R=this.$body.find(">tr"),S;if(this.options.detailView&&!this.options.cardView){Z+=1}S=R.eq(W).find(">td").eq(Z);if(W<0||Z<0||W>=this.data.length){return}for(V=W;V<W+Y;V++){for(T=Z;T<Z+X;T++){R.eq(V).find(">td").eq(T).hide()}}S.attr("rowspan",Y).attr("colspan",X).show()};J.prototype.updateCell=function(R){if(!R.hasOwnProperty("index")||!R.hasOwnProperty("field")||!R.hasOwnProperty("value")){return}this.data[R.index][R.field]=R.value;if(R.reinit===false){return}this.initSort();this.initBody(true)};J.prototype.getOptions=function(){return this.options};J.prototype.getSelections=function(){var R=this;return N.grep(this.options.data,function(S){return S[R.header.stateField]})};J.prototype.getAllSelections=function(){var R=this;return N.grep(this.options.data,function(S){return S[R.header.stateField]})};J.prototype.checkAll=function(){this.checkAll_(true)};J.prototype.uncheckAll=function(){this.checkAll_(false)};J.prototype.checkInvert=function(){var R=this;var S=R.$selectItem.filter(":enabled");var T=S.filter(":checked");S.each(function(){N(this).prop("checked",!N(this).prop("checked"))});R.updateRows();R.updateSelected();R.trigger("uncheck-some",T);T=R.getSelections();R.trigger("check-some",T)};J.prototype.checkAll_=function(S){var R;if(!S){R=this.getSelections()}this.$selectAll.add(this.$selectAll_).prop("checked",S);this.$selectItem.filter(":enabled").prop("checked",S);this.updateRows();if(S){R=this.getSelections()}this.trigger(S?"check-all":"uncheck-all",R)};J.prototype.check=function(R){this.check_(true,R)};J.prototype.uncheck=function(R){this.check_(false,R)};J.prototype.check_=function(S,R){var T=this.$selectItem.filter(K('[data-index="%s"]',R)).prop("checked",S);this.data[R][this.header.stateField]=S;this.updateSelected();this.trigger(S?"check":"uncheck",this.data[R],T)};J.prototype.checkBy=function(R){this.checkBy_(true,R)};J.prototype.uncheckBy=function(R){this.checkBy_(false,R)};J.prototype.checkBy_=function(U,R){if(!R.hasOwnProperty("field")||!R.hasOwnProperty("values")){return}var S=this,T=[];N.each(this.options.data,function(W,V){if(!V.hasOwnProperty(R.field)){return false}if(N.inArray(V[R.field],R.values)!==-1){var X=S.$selectItem.filter(":enabled").filter(K('[data-index="%s"]',W)).prop("checked",U);V[S.header.stateField]=U;T.push(V);S.trigger(U?"check":"uncheck",V,X)}});this.updateSelected();this.trigger(U?"check-some":"uncheck-some",T)};J.prototype.destroy=function(){this.$el.insertBefore(this.$container);N(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};J.prototype.showLoading=function(){this.$tableLoading.show()};J.prototype.hideLoading=function(){this.$tableLoading.hide()};J.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var R=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){R.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{R.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};J.prototype.refresh=function(R){if(R&&R.url){this.options.pageNumber=1}this.initServer(R&&R.silent,R&&R.query,R&&R.url);this.trigger("refresh",R)};J.prototype.resetWidth=function(){if(this.options.showHeader&&this.options.height){this.fitHeader()}if(this.options.showFooter){this.fitFooter()}};J.prototype.showColumn=function(R){this.toggleColumn(B(this.columns,R),true,true)};J.prototype.hideColumn=function(R){this.toggleColumn(B(this.columns,R),false,true)};J.prototype.getHiddenColumns=function(){return N.grep(this.columns,function(R){return !R.visible})};J.prototype.getVisibleColumns=function(){return N.grep(this.columns,function(R){return R.visible})};J.prototype.toggleAllColumns=function(R){N.each(this.columns,function(T,U){this.columns[T].visible=R});this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var S=this.$toolbar.find(".keep-open input").prop("disabled",false);if(S.filter(":checked").length<=this.options.minimumCountColumns){S.filter(":checked").prop("disabled",true)}}};J.prototype.showAllColumns=function(){this.toggleAllColumns(true)};J.prototype.hideAllColumns=function(){this.toggleAllColumns(false)};J.prototype.filterBy=function(R){this.filterColumns=N.isEmptyObject(R)?{}:R;this.options.pageNumber=1;this.initSearch();this.updatePagination()};J.prototype.scrollTo=function(R){if(typeof R==="string"){R=R==="bottom"?this.$tableBody[0].scrollHeight:0}if(typeof R==="number"){this.$tableBody.scrollTop(R)}if(typeof R==="undefined"){return this.$tableBody.scrollTop()}};J.prototype.getScrollPosition=function(){return this.scrollTo()};J.prototype.selectPage=function(R){if(R>0&&R<=this.options.totalPages){this.options.pageNumber=R;this.updatePagination()}};J.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};J.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};J.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody();this.trigger("toggle",this.options.cardView)};J.prototype.refreshOptions=function(R){if(Q(this.options,R,true)){return}this.options=N.extend(this.options,R);this.trigger("refresh-options",this.options);this.destroy();this.init()};J.prototype.resetSearch=function(R){var S=this.$toolbar.find(".search input");S.val(R||"");this.onSearch({currentTarget:S})};J.prototype.expandRow_=function(S,T){var R=this.$body.find(K('> tr[data-index="%s"]',T));if(R.next().is("tr.detail-view")===(S?false:true)){R.find("> td > .detail-icon").click()}};J.prototype.expandRow=function(R){this.expandRow_(true,R)};J.prototype.collapseRow=function(R){this.expandRow_(false,R)};J.prototype.expandAllRows=function(T){if(T){var V=this.$body.find(K('> tr[data-index="%s"]',0)),Y=this,U=null,X=false,R=-1;if(!V.next().is("tr.detail-view")){V.find("> td > .detail-icon").click();X=true}else{if(!V.next().next().is("tr.detail-view")){V.next().find(".detail-icon").click();X=true}}if(X){try{R=setInterval(function(){U=Y.$body.find("tr.detail-view").last().find(".detail-icon");if(U.length>0){U.click()}else{clearInterval(R)}},1)}catch(Z){clearInterval(R)}}}else{var S=this.$body.children();for(var W=0;W<S.length;W++){this.expandRow_(true,N(S[W]).data("index"))}}};J.prototype.collapseAllRows=function(R){if(R){this.expandRow_(false,0)}else{var T=this.$body.children();for(var S=0;S<T.length;S++){this.expandRow_(false,N(T[S]).data("index"))}}};J.prototype.updateFormatText=function(R,S){if(this.options[K("format%s",R)]){if(typeof S==="string"){this.options[K("format%s",R)]=function(){return S}}else{if(typeof S==="function"){this.options[K("format%s",R)]=S}}}this.initToolbar();this.initPagination();this.initBody()};var E=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];N.fn.bootstrapTable=function(R){var S,T=Array.prototype.slice.call(arguments,1);this.each(function(){var U=N(this),W=U.data("bootstrap.table"),V=N.extend({},J.DEFAULTS,U.data(),typeof R==="object"&&R);if(typeof R==="string"){if(N.inArray(R,E)<0){throw new Error("Unknown method: "+R)}if(!W){return}S=W[R].apply(W,T);if(R==="destroy"){U.removeData("bootstrap.table")}}if(!W){U.data("bootstrap.table",(W=new J(this,V)))}});return typeof S==="undefined"?this:S};N.fn.bootstrapTable.Constructor=J;N.fn.bootstrapTable.defaults=J.DEFAULTS;N.fn.bootstrapTable.columnDefaults=J.COLUMN_DEFAULTS;N.fn.bootstrapTable.locales=J.LOCALES;N.fn.bootstrapTable.methods=E;N.fn.bootstrapTable.utils={sprintf:K,getFieldIndex:B,compareObjects:Q,calculateObjectValue:O,getItemField:A,objectKeys:F,isIEBrowser:C};N(function(){N('[data-toggle="table"]').bootstrapTable()})})(jQuery);